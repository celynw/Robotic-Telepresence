<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Robotic Telepresence</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Robotic Telepresence">
<meta property="og:url" content="https://celynwalters.github.io/Robotic-Telepresence/page/8/index.html">
<meta property="og:site_name" content="Robotic Telepresence">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Robotic Telepresence">
  
    <link rel="alternate" href="/atom.xml" title="Robotic Telepresence" type="application/atom+xml">
  
  
    <link rel="icon" href="/Robotic-Telepresence/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/Robotic-Telepresence/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-87037949-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/Robotic-Telepresence/" id="logo">Robotic Telepresence</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/Robotic-Telepresence/" id="subtitle">Electronic Engineering BEng final project</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/Robotic-Telepresence/">Home</a>
        
          <a class="main-nav-link" href="/Robotic-Telepresence/Project-objectives">Project Objectives</a>
        
          <a class="main-nav-link" href="https://www.teamgantt.com/gantt/schedule/?ids=702976&public_keys=1UNWW0SIdEwg&zoom=w90&font_size=12&estimated_hours=0&assigned_resources=0&percent_complete=0&documents=0&comments=0&col_width=255&menu_view=0&resource_filter=1&name_in_bar=0&name_next_to_bar=0&resource_names=1">Gantt Chart</a>
        
          <a class="main-nav-link" href="/Robotic-Telepresence/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://celynwalters.github.io/Robotic-Telepresence"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Robot-models" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2016/10/23/Robot-models/">Robot models</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2016/10/23/Robot-models/" class="article-date">
  <time datetime="2016-10-23T13:32:34.000Z" itemprop="datePublished">Sun 23/10/2016 14:32</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <h4 id="URDF"><a href="#URDF" class="headerlink" title="URDF"></a>URDF</h4><p>I’ve found there’s a <a href="http://wiki.ros.org/urdf" target="_blank" rel="external">Unified Robot Description Format</a>, an XML format which ROS uses.<br>I don’t know the full extent for what it’s for or what it contains yet.</p>
<h4 id="Baxter-models"><a href="#Baxter-models" class="headerlink" title="Baxter models"></a>Baxter models</h4><p>There’s <a href="http://sdk.rethinkrobotics.com/wiki/URDF" target="_blank" rel="external">an official page</a> for Baxter’s URDF.<br>I will try to see how easy it is to input its information into Unity.<br>There’s also a <a href="https://github.com/RethinkRobotics" target="_blank" rel="external">GitHub page</a> for ReThink Robotics Inc. (Baxter).<br>Some of the meshes can be found there:<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> https://github.com/RethinkRobotics/baxter_common</div></pre></td></tr></table></figure></p>
<p>Each body part is provided as a Collada <code>.dae</code> format.<br>Even the collision bounds models are included.<br>They can be dragged straight into Unity.<br><img src="/Robotic-Telepresence/2016/10/23/Robot-models/Models.png" alt="Showing the torso and some random arm parts"><br>The lighting and shading is immediately higher quality than that in the simulator, Gazebo:</p>
<p><img src="/Robotic-Telepresence/2016/10/23/Robot-models/Gazebo.png" alt="This was taken from the web as an example."><br>A Google search yields a URDF to Unity GameObject converter, <a href="https://github.com/MangoMangoDevelopment/neptune/wiki/Importing-and-Displaying-URDF-file" target="_blank" rel="external">neptune</a>.</p>
<blockquote>
<p>Our system will be able to detect when you’re importing a URDF and create a corresponding Unity GameObject to represent the robot/sensor.</p>
</blockquote>
<p>This will save time and maintain compatibility, rather than assembling the complete model myself.<br>Part of the <code>neptune</code> git clone seems to be a Unity project, so I’ve imported it and upgraded it to version 5.5.<br>It seems like I will have to use Visual Studio on Windows to compile the conversion utility, as Unity is expected to be running on Windows.</p>
<p>I managed to compile them, but I’m not sure how to use them. I am left with a <code>.dll</code> file in the ‘Debug’ directory.<br>It doesn’t help that the GitHub project is mostly private.</p>
<p>I looked up if you could get Gazebo running in Windows.<br>The <a href="http://gazebosim.org/tutorials?tut=install_on_windows&amp;cat=install" target="_blank" rel="external">site</a> says you can and gives instructions, but it’s easy to miss this statement:</p>
<blockquote>
<p>It does not actually work yet.</p>
</blockquote>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2016/10/23/Robot-models/" data-id="cj0cz5bzb001g2g9rp2mqj7he" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Project-meeting-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2016/10/21/Project-meeting-1/">Project meeting 1</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2016/10/21/Project-meeting-1/" class="article-date">
  <time datetime="2016-10-21T19:32:55.000Z" itemprop="datePublished">Fri 21/10/2016 20:32</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <p>Following meeting with Rich (21/10/16), these things were discussed:</p>
<ul>
<li>I need a plan, a Gantt chart.<br>  It should also take into account other things like exams, coursework, and holidays.</li>
<li>I don’t need to do it all on Linux if I’m going to be communcating with ROS anyway.<br>  ROS is specifically designed with strong communication support.<br>  Baxter and others run their own instances of ROS anyway, It’s ROS to ROS.<br>  If I had done this research first, I may have reached this conclusion.</li>
<li>I think, ideally we’d want a ‘ROS node’ which communicates with Unity.<br>  Alternatively a Unity plugin to communicate with ROS could work but that might be horrible.</li>
<li>Oscar mentioned octrees, how a 3D point cloud is represented in 3D space to give things surfaces.<br>  This might need to be done by me, but Unity as a game engine seems likely to have this built in, or have plugins for it.</li>
<li>Remember <code>rvis</code> is for visualising the robot.<br>  <code>Gazebo</code> isn’t the same, that is for simulation.</li>
</ul>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2016/10/21/Project-meeting-1/" data-id="cj0cz5byy00112g9rh4lcs8p6" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Introduction-to-ROS" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2016/10/21/Introduction-to-ROS/">Introduction to ROS</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2016/10/21/Introduction-to-ROS/" class="article-date">
  <time datetime="2016-10-21T09:31:34.000Z" itemprop="datePublished">Fri 21/10/2016 10:31</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <p>I’ll mostly be following the <a href="http://wiki.ros.org/kinetic/Installation/Ubuntu" target="_blank" rel="external">instructions</a> on the official ROS site, with some modifications.<br>First I had to add the ROS repository to the source list:<br><code>deb http://packages.ros.org/ros/ubuntu xenial main</code><br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key 0xB01FA116</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install ros-kinetic-desktop-full</div></pre></td></tr></table></figure></p>
<p>Initialise <code>rosdep</code>. Can install dependencies and required for some core components of ROS.<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo rosdep init</div><div class="line">$ rosdep update</div></pre></td></tr></table></figure></p>
<p>Set up the environment.<br><code>catkin</code> is the build system for ROS.<br>The installation instructions on the website assume you have <code>bash</code> as your shell.<br>I have <code>zsh</code>. The directory also has a set up script for <code>zsh</code> users too.<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> <span class="string">". /opt/ros/kinetic/setup.zsh"</span> &gt;&gt; ~/.zshrc</div><div class="line">$ . ~/.zshrc</div></pre></td></tr></table></figure></p>
<p>Get rosinstall. Distributed separately, is for downloading source trees for ROS packages.<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-rosinstall</div></pre></td></tr></table></figure></p>
<h4 id="First-ROS-tests"><a href="#First-ROS-tests" class="headerlink" title="First ROS tests"></a>First ROS tests</h4><p>Checking the environment variables have been set:<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ printenv | grep ROS</div></pre></td></tr></table></figure></p>
<p>Creating a ROS workspace:</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ mkdir -p ~/catkin_ws/src</div><div class="line">$ <span class="built_in">cd</span> !$</div><div class="line">$ catkin_init_workspace</div><div class="line">$ <span class="built_in">cd</span> ../</div><div class="line">$ catkin_make</div><div class="line">$ . devel/setup.zsh</div></pre></td></tr></table></figure>
<p>Now the environment has been overlayed onto our own. Check with:<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> <span class="variable">$ROS_PACKAGE_PATH</span></div></pre></td></tr></table></figure></p>
<h4 id="Tutorials"><a href="#Tutorials" class="headerlink" title="Tutorials"></a>Tutorials</h4><p>Install tutorials if I haven’t got them already:<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install ros-kinetic-ros-tutorials</div></pre></td></tr></table></figure></p>
<p>There seems to be lots of interesting tools, which are all available with tab-completion. This explains the specific zsh and bash setup scripts.</p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2016/10/21/Introduction-to-ROS/" data-id="cj0cz5bxm000i2g9rgmo43vp7" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Unity3D-in-Xubuntu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2016/10/20/Unity3D-in-Xubuntu/">Unity3D in Xubuntu</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2016/10/20/Unity3D-in-Xubuntu/" class="article-date">
  <time datetime="2016-10-20T14:41:58.000Z" itemprop="datePublished">Thu 20/10/2016 15:41</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <p>The Unity website download page only lists <strong>Windows</strong> and <strong>MacOSX</strong> availability.<br>I finally managed to find the public beta <a href="https://forum.unity3d.com/threads/unity-on-linux-release-notes-and-known-issues.350256/" target="_blank" rel="external">Forum thread</a> with the Linux downloads.<br>I have the proprietary graphics drivers installed already, for my <strong>NVidia GTX 970</strong> GPU.<br>I’m going to try the most recent one, <code>5.5.0b5</code>.</p>
<p>I was able to get it to install and so far it appears to work flawlessly.<br><img src="/Robotic-Telepresence/2016/10/20/Unity3D-in-Xubuntu/Unity Linux.png" alt="Unity 5.5.0b5 in Xubuntu"><br>The title bar says <code>OpenGL 4.5</code>.<br>In Windows, this is what you do to enable virtual reality:<br>Install the <a href="https://www.assetstore.unity3d.com/en/#!/content/32647" target="_blank" rel="external">SteamVR Plugin</a> asset.<br>Go <code>Edit &gt; Project Settings &gt; Player &gt; Other Settings &gt; Virtual Reality Suported</code><br>But the <a href="https://docs.unity3d.com/Manual/VRDevices-OpenVR.html" target="_blank" rel="external">Unity page</a> for OpenVR states:</p>
<blockquote>
<p>Steam is required to run OpenVR applications, so install Steam and SteamVR. Once SteamVR is working properly with your headset, add OpenVR to the list of supported SDKs</p>
</blockquote>
<p>If I can get SteamVR (OpenVR) to work, this should be able to work as well, but this depends on that for now.</p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2016/10/20/Unity3D-in-Xubuntu/" data-id="cj0cz5bzm001n2g9rlg965dl8" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Attempting-VR-in-Ubuntu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2016/10/19/Attempting-VR-in-Ubuntu/">Attempting VR in Ubuntu</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2016/10/19/Attempting-VR-in-Ubuntu/" class="article-date">
  <time datetime="2016-10-19T10:42:15.000Z" itemprop="datePublished">Wed 19/10/2016 11:42</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <p>To see whether this is plausible, I’ll be trying to get it to work.<br>There seem to be three options.</p>
<h4 id="VRUI"><a href="#VRUI" class="headerlink" title="VRUI"></a>VRUI</h4><p>Since trying to get OpenVR to work, I have found some software called <code>Vrui</code>.<br>It is developed by Oliver Kreylos, an associate researcher for virtual reality at <a href="http://www.ucdavis.edu/" target="_blank" rel="external">UC Davis</a>, goes under the name <a href="http://doc-ok.org/?page_id=6" target="_blank" rel="external">doc-ok</a>.<br>It can be found <a href="http://idav.ucdavis.edu/~okreylos/ResDev/Vrui/" target="_blank" rel="external">here</a>, and supposedly the next release will add Vive support<br>It is being actively updated.</p>
<h4 id="OSVR"><a href="#OSVR" class="headerlink" title="OSVR"></a>OSVR</h4><p>It’s an open source virtual reality project, which has a hardware and a software branch.<br>At the time of writing, there is no Vive support released, but this may change in the near future.<br>There’s already some Vive-related material on the official Github fork.</p>
<h4 id="OpenVR-in-Xubuntu"><a href="#OpenVR-in-Xubuntu" class="headerlink" title="OpenVR in Xubuntu"></a>OpenVR in Xubuntu</h4><p>Native support may be coming in the near future, particularly as SteamOS is Debian-based.</p>
<p>I will first try OpenVR by itself, without Unity.<br>It includes an application callled HelloVR.<br>Get <a href="this fork">https://github.com/ChristophHaag/openvr</a> of OpenVR:<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> https://github.com/ChristophHaag/openvr.git</div><div class="line">$ <span class="built_in">cd</span> openvr</div><div class="line">$ mkdir build</div><div class="line">$ <span class="built_in">cd</span> !$</div><div class="line">$ cmake -DCMAKE_BUILD_TYPE=Release ../</div><div class="line">$ make</div></pre></td></tr></table></figure></p>
<p>Turns out I needed a couple of other packages:<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install libsdl2-dev</div><div class="line">$ sudo apt-get install libglew-dev</div></pre></td></tr></table></figure></p>
<p>Now <strong>plug in the Vive</strong>.<br>Set up some permissions for the device:<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo chmod a+rw /dev/hidraw*</div></pre></td></tr></table></figure></p>
<p>It seems I will have to install Steam and SteamVR after all. Let’s see what happens.<br>At time of writing in May 2016, apparently the beta branch of SteamVR did not work.<br>Supposedly the lighthouse drivers are included and working though.<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install steam</div></pre></td></tr></table></figure></p>
<p>Once it is installed, clicking on the VR icon as you would to run VR in Windows doesn’t start anything.<br>The following script should enable this to work:<br><figure class="highlight zsh"><figcaption><span>vrcmd</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/zsh</span></div><div class="line"><span class="built_in">export</span> openvr=~/openvr</div><div class="line"><span class="built_in">export</span> steam=~/.steam</div><div class="line"><span class="built_in">export</span> steamvr=<span class="variable">$steam</span>/steam/steamapps/common/SteamVR</div><div class="line"></div><div class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="variable">$LD_LIBRARY_PATH</span>:\</div><div class="line">/usr/lib/:\</div><div class="line">/usr/lib32/:\</div><div class="line"><span class="variable">$openvr</span>/lib/linux32/:\</div><div class="line"><span class="variable">$openvr</span>/lib/linux64/:\</div><div class="line"><span class="variable">$steam</span>/ubuntu12_32/steam-runtime/i386/lib/i386-linux-gnu/:\</div><div class="line"><span class="variable">$steam</span>/ubuntu12_32/steam-runtime/amd64/lib/x86_64-linux-gnu/:\</div><div class="line"><span class="variable">$steamvr</span>/bin/linux32/:\</div><div class="line"><span class="variable">$steamvr</span>/bin/linux64/:\</div><div class="line"><span class="variable">$steamvr</span>/drivers/lighthouse/bin/linux32/:\</div><div class="line"><span class="variable">$steamvr</span>/drivers/lighthouse/bin/linux64/</div></pre></td></tr></table></figure></p>
<p>Now you run <code>vrcmd</code> from the command line.<br>I got stuck here. The headset wasn’t found.</p>
<p>The <a href="https://github.com/OpenHMD/OpenHMD/blob/master/README.md" target="_blank" rel="external">OpenHMD readme</a> suggested this method to set permissions permanently:<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> <span class="string">'SUBSYSTEM=="usb", ATTR&#123;idVendor&#125;=="0bb4", MODE="0666", GROUP="plugdev"'</span> &gt;&gt; /etc/udev/rules.d/83-hmd.rules</div><div class="line">$ <span class="built_in">echo</span> <span class="string">'SUBSYSTEM=="usb", ATTR&#123;idVendor&#125;=="28de", MODE="0666", GROUP="plugdev"'</span> &gt;&gt; /etc/udev/rules.d/83-hmd.rules</div><div class="line">$ udevadm control --reload-rules</div></pre></td></tr></table></figure></p>
<p>I tried doing this to fix the problem.<br>The file <code>/etc/udev/rules.d/83-hmd.rules</code> didn’t exist yet, it was created.<br>I ran <code>dmesg</code> and these were related to plugging in the Vive:</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[23323.256741] hid-generic 0003:0BB4:2C87.0006: hiddev0,hidraw5: USB HID v1.11 Device [HTC HTC Vive] on usb-0000:08:00.0-2.1.5/input0</div><div class="line">[23328.501417] hid-generic 0003:28DE:2101.0007: hiddev0,hidraw6: USB HID v1.11 Device [Valve Software Watchman Dongle] on usb-0000:08:00.0-2.1.6/input0</div><div class="line">[23328.797700] hid-generic 0003:28DE:2101.0008: hiddev0,hidraw7: USB HID v1.11 Device [Valve Software Watchman Dongle] on usb-0000:08:00.0-2.1.7/input0</div><div class="line">[23329.090160] hid-generic 0003:28DE:2000.0009: hiddev0,hidraw8: USB HID v1.01 Device [Valve Software Lighthouse FPGA RX] on usb-0000:08:00.0-2.1.1/input0</div><div class="line">[23329.091253] hid-generic 0003:28DE:2000.000A: hiddev0,hidraw9: USB HID v1.01 Device [Valve Software Lighthouse FPGA RX] on usb-0000:08:00.0-2.1.1/input1</div><div class="line">[23329.447498] hid-generic 0003:0D8C:0012.000B: input,hidraw10: USB HID v1.00 Device [C-Media Electronics Inc. USB Audio Device] on usb-0000:08:00.0-2.1.4/input3</div><div class="line">[23329.647254] usb 3-2.1.2: new high-speed USB device number 11 using xhci_hcd</div></pre></td></tr></table></figure>
<p>The vendor IDs, <code>0BB4</code> and <code>28DE</code> matched the rules entered earlier.<br>There is an extra one for the audio, <code>0D8C</code>. I’m not sure if this is related, I may have to add this as a rule somewhere later.</p>
<p>This potential fix didn’t help.</p>
<p>Poking around I noticed that the <code>vrcmd</code> script wasn’t running properly.<br>It turned out that it was using Windows line endings. I converted them to Unix line endings.<br>Still no help.<br>The only discernable message from running <code>vrcmd</code> is</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">libdbus-1.so.3: no version information available</div><div class="line">libgpg-error.so.0: no version information available</div></pre></td></tr></table></figure>
<p>Installing these does not make any difference, I suspect there’s a PATH issue maybe it’s not too important.</p>
<p>I <em>did</em> notice that the HMD display has turned up in the Displays settings for Xubuntu. As an additional monitor.<br><img src="/Robotic-Telepresence/2016/10/19/Attempting-VR-in-Ubuntu/Displays Preferences.png" alt="Xubuntu Display Settings"><br>Changing the display projection enabled the Vive to be used as a screen:<br><img src="/Robotic-Telepresence/2016/10/19/Attempting-VR-in-Ubuntu/VR Screen.jpg" alt="Photo of screen through lenses. It&#39;s split over each eye"><br>After a reboot, <code>vrcmd</code> didn’t give a million broken pipe errors, but it had the same effective result. Running it as root doesn’t help.<br>I tried mashing the script into one command:<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">export</span> LD_LIBRARY_PATH=<span class="variable">$LD_LIBRARY_PATH</span>:/usr/lib/:/usr/lib32/:~/openvr/lib/linux32/:~/openvr/lib/linux64/:~/.steam/ubuntu12_32/steam-runtime/i386/lib/i386-linux-gnu/:~/.steam/ubuntu12_32/steam-runtime/amd64/lib/x86_64-linux-gnu/:~/.steam/steam/steamapps/common/SteamVR/bin/linux32/:~/.steam/steam/steamapps/common/SteamVR/bin/linux64/:~/.steam/steam/steamapps/common/SteamVR/drivers/lighthouse/bin/linux32/:~/.steam/steam/steamapps/common/SteamVR/drivers/lighthouse/bin/linux64/</div><div class="line">$ ./.steam/steam/steamapps/common/SteamVR/bin/linux64/vrserver</div></pre></td></tr></table></figure></p>
<p>Now <code>vrserver</code> will run without error instead of not detecting a headset, but it still doesn’t detect one. <code>vrcmd</code> still doesn’t detect it either.<br>When the Vive is unplugged though, it only gives this message:<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">VR_IsHmdPresent returned <span class="literal">false</span> to indicate that there are no attached HMDs.</div></pre></td></tr></table></figure></p>
<p>This means it is detected in some way.</p>
<p>This took a long time, so I will give up for now.</p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2016/10/19/Attempting-VR-in-Ubuntu/" data-id="cj0cz5bwc00022g9ro202jjmh" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Environment-setup" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2016/10/15/Environment-setup/">Environment setup</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2016/10/15/Environment-setup/" class="article-date">
  <time datetime="2016-10-15T13:29:38.000Z" itemprop="datePublished">Sat 15/10/2016 14:29</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <p>The first thing I can do without doing any research is to set up my environment.<br>I know I will probably change my mind as things progress.</p>
<h4 id="Things-I-did"><a href="#Things-I-did" class="headerlink" title="Things I did"></a>Things I did</h4><p>I installed stock Ubuntu in a virtual machine, as I already had the disc image downloaded.<br>It was very easy, but I really didn’t, and still don’t like the Unity desktop environment.<br>It also comes preinstalled with a lot of things I never use.</p>
<p>I opted for Xubuntu, which uses XFCE, and I made a physical partition. I’m pleased with the results.<br>I will continue to use Sublime Text 3 as my text editor, and a customised <code>zsh</code> shell environment.</p>
<p>I will be keeping my project files under source control.<br>I used mercurial a lot on placement and it seems easier than git, so once things get rolling I’ll be doing this.<br>I know how to use virtual environments and pip with python, but I won’t do this until I know I need it.<br>I’ll be trying to take regular screenshots/photos to stick in here.</p>
<h4 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a>Markdown</h4><p>I need any notes to be portable between computers and operating systems (This means no Microsoft Office!)<br>Microsoft Office provide an online version of Office which is surprisingly good. But I’ll have to worry about logging in, inserting media into the documents and no organisation between documents beside what I can do with folders.<br>I already have an excellent Markdown editor (Sublime Text) which doubles for code.<br>I know the GitHub ‘about’ pages are written in Markdown, so it must have good support for inserting code snippets.</p>
<p>After looking around, I’m installing <code>markmon</code>, an automatic markdown preview tool, which generates platform-independent HTML on-the-fly as I write.</p>
<ul>
<li>Install Package Control for Sublime Text</li>
<li><p>Install <code>markmon</code> to autogenerate the markdown preview<br>  Has some external dependencies:</p>
  <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo ln <span class="_">-s</span> /usr/bin/nodejs /usr/bin/node</div><div class="line">$ sudo apt-get install npm</div><div class="line">$ sudo npm install -g markmon</div><div class="line">$ sudo apt-get install pandoc</div></pre></td></tr></table></figure>
</li>
<li><p>I’ve added a keyboard shortcut <code>alt+m</code> to serve and bring up the HTML page.<br>  Markmon works on Windows, but doesn’t appear to be able to use Cygwin.<br>  I had to go into the markmon settings and modify them like this:</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">"executable": "markmon.cmd"</div></pre></td></tr></table></figure>
</li>
</ul>
<p>Here’s a screenshot of it in action:</p>
<p><img src="/Robotic-Telepresence/2016/10/15/Environment-setup/Markmon.png" alt="These notes are now out of date!"></p>
<p>Using <a href="http://pandoc.org/" target="_blank" rel="external">pandoc</a>, one can easily convert between many formats, including HTML, docx, LaTeX etc. I may use this to insert parts of my notes into my reports.</p>
<p>There are a huge number of purely online editors, such as <a href="https://stackedit.io/editor" target="_blank" rel="external">Stackedit</a><br>Some of them look very good, but I would not have full control over the files.</p>
<h4 id="Other-things"><a href="#Other-things" class="headerlink" title="Other things"></a>Other things</h4><p>In the last project meeting, Rich asked about how the graphics are drawn to the headset. I didn’t give a clear answer, but here it is:</p>
<ul>
<li>Direct mode: Graphics are drawn directly to the HMD (head-mounted display). Better VR (virtual reality) performance.</li>
<li>Extended mode: HMD display is treated like an additional monitor.</li>
<li>OpenVR: <strong>Proprietary</strong> VR abstraction layer which supports a number of HMDs.</li>
<li>OSVR: <strong>Open source</strong> abstraction layer which supports a number of HMDs (including the Vive).</li>
<li>OpenHMD: Supports some HMDs but not the Vive.</li>
</ul>
<p>(Info found at <a href="http://www.vronlinux.com/articles/adventures-with-openvr-and-the-vive-on-linux.8" target="_blank" rel="external">vronlinux</a>)<br>(<a href="https://www.gamingonlinux.com/articles/first-steps-with-openvr-and-the-vive-on-linux.7229" target="_blank" rel="external">This one</a> is a slightly more up to date version)</p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2016/10/15/Environment-setup/" data-id="cj0cz5bx200082g9rtsm2bnwl" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Reading-around" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2016/10/13/Reading-around/">Reading around</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2016/10/13/Reading-around/" class="article-date">
  <time datetime="2016-10-13T16:28:51.000Z" itemprop="datePublished">Thu 13/10/2016 17:28</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <h4 id="ROS-compatibility"><a href="#ROS-compatibility" class="headerlink" title="ROS compatibility"></a>ROS compatibility</h4><p>The main objective is to interface with ROS.<br>This is only officialy supported from a Linux distribution for now (<a href="http://wiki.ros.org/ROS/Installation" target="_blank" rel="external">Homepage</a>).<br>There is shaky support for <a href="http://wiki.ros.org/win_ros" target="_blank" rel="external">Windows</a>.</p>
<h4 id="Vive-compatibility"><a href="#Vive-compatibility" class="headerlink" title="Vive compatibility"></a>Vive compatibility</h4><p>The Vive is interfaced with SteamVR which is only supported in Windows (through the Steam client).<br>Most personal VR projects I have seen don’t integrate into the Steam client in any way, but it still needs to be open to run the SteamVR daemon.<br>However, the hardware itself is supposed to be quite open soit’s likely that unofficial drivers exist for other operating systems.</p>
<h4 id="Possible-courses-of-action"><a href="#Possible-courses-of-action" class="headerlink" title="Possible courses of action:"></a>Possible courses of action:</h4><ul>
<li><h4 id="Run-ROS-under-Windows"><a href="#Run-ROS-under-Windows" class="headerlink" title="Run ROS under Windows"></a>Run ROS under Windows</h4><p>Advantages:<br>The entire project could be run from a single operating system, so only one separate device from the robotics would be required.<br>Most modern game engines are only supported, or have the most compatibility with Windows, so I would be able to take advantage of the environments, tools, code snippets and superior rendering quality.<br>This also applies to graphics card drivers.</p>
<p>Worries:<br>The support for ROS is shaky and as I am inexperienced with it I won’t know to what extent it isn’t working or how to fix things, if even possible.</p>
</li>
<li><h4 id="Run-game-engine-in-Linux"><a href="#Run-game-engine-in-Linux" class="headerlink" title="Run game engine in Linux"></a>Run game engine in Linux</h4><p>Advantages:<br>Again, the entire project could be run from a single device.<br>I wouldn’t have to worry about extra issues with running ROS.<br>Most of my text-based programming experience is in Linux so it’s a familiar environment.</p>
<p>Worries:<br>With a first look, most modern game engine development suites don’t list support for Linux development<br>There may be some alpha builds, but Unreal and Unity don’t list Linux distributions on their downloads pages.</p>
<p>An alternative would be to use raw OpenGL, however this might end up being a lot of extra work on ‘primitive’ functions which are second nature to popular game engines. I would presumably use some custom libraries which I would need to choose and learn to use.<br>This could make the executable slimmer and less dependent on the industry, but I’m not sure how much this matters.</p>
</li>
<li><h4 id="Use-a-combination"><a href="#Use-a-combination" class="headerlink" title="Use a combination"></a>Use a combination</h4><p>Advantages:<br>This would take the best of both worlds, having compatibility with VR, game engines and ROS.<br>I have not done much reading on ROS yet, but it may be possible to have a low-powered networked device like a <em>Raspberry Pi</em> to route communications from the VR headset in a game engine in a ROS-like way to the robotics.</p>
<p>Worries:<br>Having communications between devices in two places is a greater potential for errors.<br>I’m not sure how easy or hard this will be, I think Rich mentioned ROS/Python interoperability.</p>
<p>This seems like the way to go.</p>
</li>
</ul>
<h4 id="Next-steps"><a href="#Next-steps" class="headerlink" title="Next steps:"></a>Next steps:</h4><p>Before I can do anything like a Gantt chart I should probably choose which of these paths to follow.<br>In order to make an informed decision I should do some reading and testing around this area.</p>
<ol>
<li>Do some research on ROS. I hear there are some beginner tutorials so I can work my way through those.<br>I shouldn’t need access to a physical robot to do them.</li>
<li>Look at VR and Unity(/Unreal) support under Linux.<br>These are the two Rich mentioned, and the only (or best) two I know of which support virtual reality.<br>I have used Unity before, and it has been free for personal use for much longer, so I will try this first.</li>
<li>Set up development environments.<br>This involves physical Linux partitions on my PC, and probably Linux virtual machines.<br>I will have to choose a distribution, it will likely be a lightweight flavour of Ubuntu (LTS) (Long-term support).<br>I’ll also need to host my notes in a convenient, secure and easy manner. I’m writing this in a text document, I’ll probably copy them over to the new format once I’ve decided.<br>As I’ll be on multiple machines and operating systems I’m thinking of using Markdown, and hopefully something better than Dropbox/equivalent services.</li>
</ol>
<h4 id="At-some-point"><a href="#At-some-point" class="headerlink" title="At some point"></a>At some point</h4><p>Work out to a greater degree of specificity the direction this project will take.<br>I’ll be using the <insert brand=""> Baxter robot to start off with, but the project is to interface with ROS generally, so could be applied to many types of robot.</insert></p>
<p>Do I use a purely virtual model of Baxter?<br>Do I use a point cloud from the Kinect, mounted above Baxter?<br>Do I do some combination of the two?<br>…or something else?</p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2016/10/13/Reading-around/" data-id="cj0cz5bza001e2g9rdfoidejf" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/Robotic-Telepresence/page/7/">&laquo; Previous</a><a class="page-number" href="/Robotic-Telepresence/">1</a><span class="space">&hellip;</span><a class="page-number" href="/Robotic-Telepresence/page/6/">6</a><a class="page-number" href="/Robotic-Telepresence/page/7/">7</a><span class="page-number current">8</span>
  </nav>

</section>
        <!-- MANUALLY ADDED FOR GANTT CHART -->
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2017/03/">March 2017</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2017/02/">February 2017</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2017/01/">January 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2016/12/">December 2016</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2016/11/">November 2016</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2016/10/">October 2016</a><span class="archive-list-count">14</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Celyn Walters<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/Robotic-Telepresence/" class="mobile-nav-link">Home</a>
  
    <a href="/Robotic-Telepresence/Project-objectives" class="mobile-nav-link">Project Objectives</a>
  
    <a href="https://www.teamgantt.com/gantt/schedule/?ids=702976&public_keys=1UNWW0SIdEwg&zoom=w90&font_size=12&estimated_hours=0&assigned_resources=0&percent_complete=0&documents=0&comments=0&col_width=255&menu_view=0&resource_filter=1&name_in_bar=0&name_next_to_bar=0&resource_names=1" class="mobile-nav-link">Gantt Chart</a>
  
    <a href="/Robotic-Telepresence/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/Robotic-Telepresence/fancybox/jquery.fancybox.css">
  <script src="/Robotic-Telepresence/fancybox/jquery.fancybox.pack.js"></script>


<script src="/Robotic-Telepresence/js/script.js"></script>

  </div>
</body>
</html>
