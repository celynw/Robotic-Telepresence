<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Robotic Telepresence</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Robotic Telepresence">
<meta property="og:url" content="https://celynwalters.github.io/Robotic-Telepresence/page/3/index.html">
<meta property="og:site_name" content="Robotic Telepresence">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Robotic Telepresence">
  
    <link rel="alternate" href="/atom.xml" title="Robotic Telepresence" type="application/atom+xml">
  
  
    <link rel="icon" href="/Robotic-Telepresence/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/Robotic-Telepresence/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-87037949-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/Robotic-Telepresence/" id="logo">Robotic Telepresence</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/Robotic-Telepresence/" id="subtitle">Electronic Engineering BEng final project</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/Robotic-Telepresence/">Home</a>
        
          <a class="main-nav-link" href="/Robotic-Telepresence/Project-objectives">Project Objectives</a>
        
          <a class="main-nav-link" href="https://www.teamgantt.com/gantt/schedule/?ids=702976&public_keys=1UNWW0SIdEwg&zoom=w90&font_size=12&estimated_hours=0&assigned_resources=0&percent_complete=0&documents=0&comments=0&col_width=255&menu_view=0&resource_filter=1&name_in_bar=0&name_next_to_bar=0&resource_names=1">Gantt Chart</a>
        
          <a class="main-nav-link" href="/Robotic-Telepresence/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://celynwalters.github.io/Robotic-Telepresence"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Project-meeting-10" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2017/02/15/Project-meeting-10/">Project meeting 10</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2017/02/15/Project-meeting-10/" class="article-date">
  <time datetime="2017-02-15T16:28:45.000Z" itemprop="datePublished">Wed 15/02/2017 16:28</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <p>I now have access to a PC in the robot lab.<br>It’s almost ready to go, I still need local network access so that ROS data can be communicated.<br>The first thing I want to try is the joint angles, but it would be great to get the point cloud data as well.<br>In the mean time, I’ll be looking into generating the commands for moving Baxter, and setting restrictions on movement from within the Unity project.</p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2017/02/15/Project-meeting-10/" data-id="cj0i5kaux00137w9rgi9c7dcn" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Visualising-grippers" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2017/02/15/Visualising-grippers/">Visualising grippers</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2017/02/15/Visualising-grippers/" class="article-date">
  <time datetime="2017-02-15T11:24:14.000Z" itemprop="datePublished">Wed 15/02/2017 11:24</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <p>The meshes for the grippers were not previously present beacuse they are in a separate folder.<br>I’m going to be using the models to show the target position for the hands.<br>The way the grippers are included in the <code>URDF</code> description is by using variables within the <code>.urdf</code> file, such as <code>${side}</code>.<br>The reason for this is because gripper parts are used (reflected) for left and right, and for each arm. The grippers can be interchanged for different types as well.<br>My importer script does not handle variables, so at first it seemed simple enough to just manually enter their locations into Unity.<br>I recall that:</p>
<p>For position</p>
<blockquote>
<table>
<thead>
<tr>
<th>ROS</th>
<th>Unity</th>
</tr>
</thead>
<tbody>
<tr>
<td>X +ve</td>
<td>X -ve</td>
</tr>
<tr>
<td>Y +ve</td>
<td>Y +ve</td>
</tr>
<tr>
<td>Z +ve</td>
<td>Z +ve</td>
</tr>
</tbody>
</table>
</blockquote>
<p>For rotation:</p>
<blockquote>
<table>
<thead>
<tr>
<th>ROS</th>
<th>Unity</th>
</tr>
</thead>
<tbody>
<tr>
<td>X +ve</td>
<td>X +ve</td>
</tr>
<tr>
<td>Y +ve</td>
<td>Y -ve</td>
</tr>
<tr>
<td>Z +ve</td>
<td>Z -ve</td>
</tr>
</tbody>
</table>
<p>Must be performed in order: Z, Y, X</p>
</blockquote>
<p>I am using the “standard narrow” grippers for now.</p>
<p>I was running into problems with manually adding the grippers to the scene, there’s a lot of numbers in the wrong order and format.<br>It would be a reasonable task to edit my importer to support the extra files and conditional arguments in the new file.<br>The easiest thing to do was to merge the <code>.urdf</code> files into a single one manually, and then importing that.</p>
<p>Each link creates a joint, and each joint creates a link, recursively until the bottom of the hierarchy.<br>When creating a link, if it has a <code>visual/geometry/mesh</code> node, then the current link <code>GameObject</code> is destroyed, and replaced with the related mesh (which generates its own <code>GameObject</code>).<br>The list below shows how meshes in the <code>baxter_base</code> section import, and their components:</p>
<blockquote>
<ul>
<li>NAME<br>[Animator]<ul>
<li>Camera</li>
<li>NAME<br>[Mesh Filter]<br>[Mesh Renderer]</li>
<li>Lamp</li>
</ul>
</li>
</ul>
</blockquote>
<p>However, this is what the grippers import like:</p>
<blockquote>
<ul>
<li>NAME<br>[Animator]<br>[Mesh Filter]<br>[Mesh Renderer]</li>
</ul>
</blockquote>
<p>I’ve changed the importer to adapt.<br>I must have made some small mistakes, as I had to manually change the sign or axes of some values for the parts to be in their correct locations.</p>
<p>I had to replace some variables, such as <code>${-pi/2}</code> and <code>${finger_length}</code>.<br><code>${reflect}</code> is used as ±1.</p>
<p><img src="/Robotic-Telepresence/2017/02/15/Visualising-grippers/Result.png" alt="Using the standard narrow grippers for now, in slot 0"></p>
<p><img src="/Robotic-Telepresence/2017/02/15/Visualising-grippers/Photo.jpg" alt="A photo of Baxter&#39;s wrist stub showing the slots"></p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2017/02/15/Visualising-grippers/" data-id="cj0i5kavp001s7w9rfkvsuua7" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Kinect-with-Unity" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2017/02/14/Kinect-with-Unity/">Kinect with Unity</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2017/02/14/Kinect-with-Unity/" class="article-date">
  <time datetime="2017-02-14T19:21:31.000Z" itemprop="datePublished">Tue 14/02/2017 19:21</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <p>To side-step the communication issues with <code>PointCloud2</code> for now, I’ll try to connect the Kinect directly to Unity and its host PC.<br><a href="https://www.youtube.com/watch?v=YLzMT_Epvpw" target="_blank" rel="external">This video</a> shows that moving point clouds are possible, but I’m not sure how out-of-the-box it will be.</p>
<p>The official Kinect SDK apparently uses .NET 4 rather than Unity’s .NET 2.<br>I installed version 1.7.<br>I also added the “<a href="https://www.assetstore.unity3d.com/en/#!/content/7747" target="_blank" rel="external">Kinect with MS-SDK</a>“ asset from the asset store.<br>It apparently includes a simulator for the Kinect, but it didn’t seem to do anything.<br>As with most other things I’ve found, it’s geared towards calculating skeletal data, but will hopefully allow access to the point clouds.<br>This applies to what I think was being referred to for Unreal, the “<a href="http://www.opaque.media/kinect-4-unreal/" target="_blank" rel="external">Kinect 4 Unreal</a>“ plugin by Opaque Media Group.<br>I’m pretty sure this isn’t compatible in any way.</p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2017/02/14/Kinect-with-Unity/" data-id="cj0i5kau7000l7w9rirvgenbr" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-VR-feature-Angle-snapping" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2017/02/12/VR-feature-Angle-snapping/">VR feature: Angle snapping</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2017/02/12/VR-feature-Angle-snapping/" class="article-date">
  <time datetime="2017-02-12T17:59:33.000Z" itemprop="datePublished">Sun 12/02/2017 17:59</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <p>I thought this would be an easy feature to add.<br>When drawing targets, holding the grip buttons would snap the new location to a 45-degree-quantised vector from the first position.</p>
<p>At first, I thought about comparing the actual position difference to the 45-degree vectors and using the smallest angle difference.<br>This had problems with vectors 180 degrees out from each other.</p>
<p>Then I tried normalising the position difference and comparing the position with the normalised 45-degree vectors.<br>This seems possible.</p>
<p><img src="/Robotic-Telepresence/2017/02/12/VR-feature-Angle-snapping/Angles.png" alt="This shows the angles to snap to"></p>
<hr>
<p>However, I haven’t tried to use Baxter yet, and I’m not sure of how the IK solver will project the path of the hand; it may not necessarily be a straight path, so this visualisation could be misleading.<br>Maybe a better way would be to replace the controller models with ghostly grippers which will remain at the target positions until the IK solver has finished.</p>
<p>I’ve also had a quick look into a Unity-based IK solver. They are common in games with avatars.</p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2017/02/12/VR-feature-Angle-snapping/" data-id="cj0i5kavo001q7w9rz49zo2hm" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Project-meeting-9" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2017/02/08/Project-meeting-9/">Project meeting 9</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2017/02/08/Project-meeting-9/" class="article-date">
  <time datetime="2017-02-08T17:56:01.000Z" itemprop="datePublished">Wed 08/02/2017 17:56</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <h4 id="Safety"><a href="#Safety" class="headerlink" title="Safety"></a>Safety</h4><p>Apparently ROS has a way to set initial constraints, so that for instance, commands which tell him to move his hands into the space occupied by the table can be overridden.<br>While Baxter tends to avoid collisions with his other arms and the torso, apparently he ignores the screen on the head, so I’ll have to be careful of that.<br>If I’m going to be in VR in the robot lab, I’ll need another person to be in the room at the same time. It would be possible to start with to just not wear the headset and view the game windows on a monitor.</p>
<h4 id="Next-steps"><a href="#Next-steps" class="headerlink" title="Next steps"></a>Next steps</h4><p>Soon, another PC will be set up in the robot lab able to run Windows, then I can get started on practical development.<br>I still need to learn to use Baxter, but the environment should be set up for this already.</p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2017/02/08/Project-meeting-9/" data-id="cj0i5kavi001g7w9rk1v7ft21" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Adding-VR-to-Unity-Project" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2017/02/07/Adding-VR-to-Unity-Project/">Adding VR to Unity Project</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2017/02/07/Adding-VR-to-Unity-Project/" class="article-date">
  <time datetime="2017-02-07T15:47:54.000Z" itemprop="datePublished">Tue 07/02/2017 15:47</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <h4 id="Enabling-VR"><a href="#Enabling-VR" class="headerlink" title="Enabling VR"></a>Enabling VR</h4><p>This step was very simple.<br>A preliminary step is to ensure the Steam client is installed, along with the SteamVR application.<br>In Unity, under “Player Preferences”, tick the “Virtual Reality Supported” checkbox.<br>Done.<br>Now when SteamVR is running, pressing “Play” in Unity will focus itself in the VR headset.<br>This only enables head tracking though.<br>To get more functionality, download the free SteamVR plugin from the Unity assets store.<br>You can drag the prefabs out into the base project directory and ther controllers are shown (in the same skin as the user has set in their SteamVR preferences).<br>There seem to be some great resources for getting started, I’m using <a href="https://docs.unity3d.com/Manual/OpenVRControllers.html" target="_blank" rel="external">this page</a> for controller input.</p>
<h4 id="VR-tests"><a href="#VR-tests" class="headerlink" title="VR tests"></a>VR tests</h4><p>There seem to be many ways to access data from the headset or controllers.<br>I wrote a little script to spawn primitives at a controller’s position with a trigger press.<br>The idea is to develop it to draw commands for where to move Baxter’s hand to next.<br><figure class="highlight cs"><figcaption><span>Unity script</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"><span class="keyword">using</span> System.Collections.Generic;</div><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ControllerTest</span> : <span class="title">MonoBehaviour</span> &#123;</div><div class="line">	<span class="keyword">private</span> SteamVR_TrackedController controller;</div><div class="line">	<span class="keyword">private</span> PrimitiveType currentPrimitiveType = PrimitiveType.Sphere;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">bool</span> arrowStarted = <span class="literal">false</span>;</div><div class="line">	<span class="keyword">private</span> Vector3 arrowStartPos;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnEnable</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		controller = GetComponent&lt;SteamVR_TrackedController&gt;();</div><div class="line">		controller.TriggerClicked += handle_trigger_clicked;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnDisable</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		controller.TriggerClicked -= handle_trigger_clicked;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">handle_trigger_clicked</span>(<span class="params"><span class="keyword">object</span> sender, ClickedEventArgs e</span>) </span>&#123;</div><div class="line">		spawn_arrow_at_controller();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">spawn_sphere_at_controller</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">var</span> sphere = GameObject.CreatePrimitive(PrimitiveType.Sphere);</div><div class="line">		sphere.transform.position = transform.position;</div><div class="line">		sphere.transform.rotation = transform.rotation;</div><div class="line">		sphere.transform.localScale = <span class="keyword">new</span> Vector3(<span class="number">0.1</span>f, <span class="number">0.1</span>f, <span class="number">0.1</span>f);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">spawn_arrow_at_controller</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		GameObject cylinder;</div><div class="line">		<span class="keyword">if</span> (!arrowStarted) &#123;</div><div class="line">			arrowStartPos = transform.position;</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			cylinder = GameObject.CreatePrimitive(PrimitiveType.Cylinder);</div><div class="line">			cylinder.transform.position = (arrowStartPos + transform.position) / <span class="number">2</span>;</div><div class="line">			cylinder.transform.rotation = transform.rotation;</div><div class="line">			cylinder.transform.localScale = <span class="keyword">new</span> Vector3(<span class="number">0.1</span>f, <span class="number">0.1</span>f, <span class="number">0.1</span>f);</div><div class="line">		&#125;</div><div class="line">		arrowStarted = !arrowStarted;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="/Robotic-Telepresence/2017/02/07/Adding-VR-to-Unity-Project/Cylinders.png" alt="First, just spawning at controller position"><br><img src="/Robotic-Telepresence/2017/02/07/Adding-VR-to-Unity-Project/Midpoints.png" alt="Then, pick two points and it instantiates at the midpoint"><br>I’ll be rotating and scaling the cylinders into arrows to view the expected path of a hand.</p>
<h4 id="Drawing-arrows"><a href="#Drawing-arrows" class="headerlink" title="Drawing arrows"></a>Drawing arrows</h4><p>After some tweaking, I managed to get it to be able to drag the controllers to draw ‘arrows’.<br>I’ll need to offset them, because the controller origin can’t be visually pinpointed, so it’s difficult for the user to choose a precise location.<br>The image below shows the controller origin. I’m thinking of using the very centre of the ring.</p>
<p><img src="/Robotic-Telepresence/2017/02/07/Adding-VR-to-Unity-Project/Controller.png" alt="{Red, Green, Blue} are {X, Y, Z} respectively"></p>
<p>The script below enables functionality demonstrated in the video underneath.</p>
<figure class="highlight cs"><figcaption><span>Final Unity Script</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"><span class="keyword">using</span> System.Collections.Generic;</div><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ControllerTest</span> : <span class="title">MonoBehaviour</span> &#123;</div><div class="line">	<span class="keyword">private</span> SteamVR_TrackedController controller;</div><div class="line">	<span class="keyword">private</span> PrimitiveType currentPrimitiveType = PrimitiveType.Sphere;</div><div class="line">	<span class="keyword">public</span> GameObject prefabCylinder; <span class="comment">// Fill with arrow prefab</span></div><div class="line">	<span class="keyword">private</span> GameObject arrow; <span class="comment">// Current arrow being drawn</span></div><div class="line">	<span class="keyword">private</span> Vector3 arrowStartPos;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnEnable</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="comment">// Register controller callbacks</span></div><div class="line">		controller = GetComponent&lt;SteamVR_TrackedController&gt;();</div><div class="line">		controller.TriggerClicked += handle_trigger_clicked;</div><div class="line">		controller.TriggerUnclicked += handle_trigger_unclicked;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnDisable</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="comment">// Unegister controller callbacks</span></div><div class="line">		controller.TriggerClicked -= handle_trigger_clicked;</div><div class="line">		controller.TriggerUnclicked += handle_trigger_unclicked;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// Start drawing the arrow</span></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">handle_trigger_clicked</span>(<span class="params"><span class="keyword">object</span> sender, ClickedEventArgs e</span>) </span>&#123;</div><div class="line">		arrowStartPos = transform.position;</div><div class="line">		arrow = (GameObject)Instantiate(prefabCylinder);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// Finished drawing the arrow</span></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">handle_trigger_unclicked</span>(<span class="params"><span class="keyword">object</span> sender, ClickedEventArgs e</span>) </span>&#123;</div><div class="line">		arrow = <span class="literal">null</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="comment">// Handle arrow logic</span></div><div class="line">		<span class="keyword">if</span> (controller.triggerPressed) &#123;</div><div class="line">			<span class="keyword">var</span> direction = transform.position - arrowStartPos;</div><div class="line">			<span class="keyword">var</span> midpoint = direction/<span class="number">2</span>;</div><div class="line">			arrow.transform.rotation = Quaternion.FromToRotation(Vector3.up, direction);</div><div class="line">        	arrow.transform.localScale = <span class="keyword">new</span> Vector3(<span class="number">0.05</span>f, direction.magnitude/<span class="number">2</span>, <span class="number">0.05</span>f);</div><div class="line">			arrow.transform.position = midpoint + arrowStartPos;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<div class="video-container"><iframe src="//www.youtube.com/embed/0gkBvNeSKKs" frameborder="0" allowfullscreen></iframe></div>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2017/02/07/Adding-VR-to-Unity-Project/" data-id="cj0i5kas800017w9rvcurn5eg" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Midterm-interview" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2017/02/02/Midterm-interview/">Midterm interview</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2017/02/02/Midterm-interview/" class="article-date">
  <time datetime="2017-02-02T20:19:49.000Z" itemprop="datePublished">Thu 02/02/2017 20:19</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <h4 id="Main-things-to-take-away"><a href="#Main-things-to-take-away" class="headerlink" title="Main things to take away"></a>Main things to take away</h4><p>I need to really be sure on what it is I’m trying to acheive. This should come across very clearly in the final report.<br>Rather than setting my work out in the order I discovered things (chronologically), it would be clearer if I start with broad information, and reading further qould increase the detail.</p>
<p>I need to finish the project as soon as possible, to any degree of quality. Then I should work on fleshing it out.<br>Even though I work regularly there’s a risk of not finishing, which could severely limit the available marks.<br>I’ll be working on control for Baxter and implementing VR over the next couple of weeks.</p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2017/02/02/Midterm-interview/" data-id="cj0i5kauj000q7w9rqg8j7rk2" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  
    <article id="post-Project-meeting-8" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Robotic-Telepresence/2017/02/01/Project-meeting-8/">Project meeting 8</a>
    </h1>
  

      </header>
    
  <div class="article-meta">
    <a href="/Robotic-Telepresence/2017/02/01/Project-meeting-8/" class="article-date">
  <time datetime="2017-02-01T22:33:01.000Z" itemprop="datePublished">Wed 01/02/2017 22:33</time>
</a>
    
  </div>
  <div class="article-entry" itemprop="articleBody">
    
      <h4 id="Things-discussed"><a href="#Things-discussed" class="headerlink" title="Things discussed"></a>Things discussed</h4><ul>
<li>Feedback from midterm report</li>
<li>Tips for the midterm interview tomorrow</li>
<li>The existing problem with point clouds</li>
</ul>
<p>The point clouds might be getting stuck due to the sheer size of the point cloud frames.<br>If so, then cutting the resolution down could save a lot of time and processing.<br>I could test some example (smaller) clouds.<br>However, I’d expect some response from the socket node or some network activity.</p>
<p>It also could be down to the type of data, as it’s the only topic of its kind.</p>
<p>At this point, it was suggested that it might be better to directly connect the Kinect to the VR computer.<br>I’ve demonstrated some functionality for a framework for viewing ROS clouds.<br>It would free up time for working on other aspects and could be relatively straight-forward to implement and achieve good results.</p>

    
  </div>
  <footer class="article-footer">
    <a data-url="https://celynwalters.github.io/Robotic-Telepresence/Robotic-Telepresence/2017/02/01/Project-meeting-8/" data-id="cj0i5kav8001c7w9rkkvv1kx2" class="article-share-link">Share</a>
    
     
  </footer>
  
</article>



  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/Robotic-Telepresence/page/2/">&laquo; Previous</a><a class="page-number" href="/Robotic-Telepresence/">1</a><a class="page-number" href="/Robotic-Telepresence/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/Robotic-Telepresence/page/4/">4</a><a class="page-number" href="/Robotic-Telepresence/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/Robotic-Telepresence/page/9/">9</a><a class="extend next" rel="next" href="/Robotic-Telepresence/page/4/">Next &raquo;</a>
  </nav>

</section>
        <!-- MANUALLY ADDED FOR GANTT CHART -->
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2017/03/">March 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2017/02/">February 2017</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2017/01/">January 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2016/12/">December 2016</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2016/11/">November 2016</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/Robotic-Telepresence/archives/2016/10/">October 2016</a><span class="archive-list-count">14</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Celyn Walters<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/Robotic-Telepresence/" class="mobile-nav-link">Home</a>
  
    <a href="/Robotic-Telepresence/Project-objectives" class="mobile-nav-link">Project Objectives</a>
  
    <a href="https://www.teamgantt.com/gantt/schedule/?ids=702976&public_keys=1UNWW0SIdEwg&zoom=w90&font_size=12&estimated_hours=0&assigned_resources=0&percent_complete=0&documents=0&comments=0&col_width=255&menu_view=0&resource_filter=1&name_in_bar=0&name_next_to_bar=0&resource_names=1" class="mobile-nav-link">Gantt Chart</a>
  
    <a href="/Robotic-Telepresence/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/Robotic-Telepresence/fancybox/jquery.fancybox.css">
  <script src="/Robotic-Telepresence/fancybox/jquery.fancybox.pack.js"></script>


<script src="/Robotic-Telepresence/js/script.js"></script>

  </div>
</body>
</html>
